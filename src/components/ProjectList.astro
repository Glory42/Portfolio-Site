---
import type { Project } from '../types/Project.ts';
import { fetchGithubProject } from '../scripts/fetchers/GithubProjectFetcher.ts';

let projects: Project[] = [];
---

<div id="projects" class="grid justify-center gap-6 w-full p-4">
  {projects.map((p) => (
    <div class="w-[300px] bg-[#2b2b2b] p-4 rounded-xl shadow-md">
      <h3 class="text-lg font-semibold text-white mb-1">{p.name}</h3>
      <p class="text-gray-400 text-sm mb-2">{p.description}</p>
      <div class="flex justify-between text-sm text-gray-500">
        <span>{p.language}</span>
        <span>‚≠ê {p.stars}</span>
      </div>
      <a href={p.html_url} class="text-blue-400 hover:underline text-sm mt-2 inline-block" target="_blank">
        View
      </a>
    </div>
  ))}
</div>

<script is:inline type="ts">
  async function loadProjects() {
    projects = await fetchGithubProject();
  }
  await loadProjects();
</script>
